(this["webpackJsonpsd-0x-project-react-context-hooks-starwars-datatable-filters"]=this["webpackJsonpsd-0x-project-react-context-hooks-starwars-datatable-filters"]||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/star-wars-logo.a41cce90.png"},function(e,t,a){e.exports=a(22)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(8),o=a.n(l),u=a(1),c=a(6),i=a.n(c),m=a(9),s=a(2),f=Object(n.createContext)();var d=function(e){var t=e.children,a=r.a.useState([]),n=Object(s.a)(a,2),l=n[0],o=n[1],c=r.a.useState([]),d=Object(s.a)(c,2),p=d[0],E=d[1],b=r.a.useState(!1),v=Object(s.a)(b,2),h=v[0],g=v[1],y=r.a.useState({filterByName:{name:""},filterByNumericValues:[]}),N=Object(s.a)(y,2),j=N[0],C=N[1],O=r.a.useState(["Selecione","population","orbital_period","diameter","rotation_period","surface_water"]),w=Object(s.a)(O,2),B=w[0],S=w[1],k=function(){var e=Object(m.a)(i.a.mark((function e(){var t,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,fetch("https://swapi-trybe.herokuapp.com/api/planets/");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,n=a.results,o(n),E(n),g(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r.a.useEffect((function(){k()}),[]),r.a.useEffect((function(){var e=j.filterByName.name;E(l.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))),C(Object(u.a)(Object(u.a)({},j),{},{filterByNumericValues:[]})),S(["Selecione","population","orbital_period","diameter","rotation_period","surface_water"])}),[j.filterByName.name]),r.a.useEffect((function(){var e=j.filterByNumericValues,t=e.length-1;e.length>0&&"maior que"===e[t].comparison&&E(p.filter((function(a){return a[e[t].column]>Number(e[t].value)}))),e.length>0&&"menor que"===e[t].comparison&&E(p.filter((function(a){return a[e[t].column]<Number(e[t].value)}))),e.length>0&&"igual a"===e[t].comparison&&E(p.filter((function(a){return Number(a[e[t].column])===Number(e[t].value)}))),e.length>0&&S(B.filter((function(a){return a!==e[t].column})))}),[j.filterByNumericValues]);var x={data:l,dataToRender:p,setDataToRender:E,isLoading:h,dropdownContent1:B,setDropdownContent1:S,filters:j,setFilters:C};return r.a.createElement(f.Provider,{value:x},t)};var p=function(){var e=r.a.useContext(f),t=e.filters,a=e.setFilters;return r.a.createElement("input",{type:"text",placeholder:"Nome de planeta...",value:t.filterByName.name,onChange:function(e){var n=e.target;return a(Object(u.a)(Object(u.a)({},t),{},{filterByName:{name:n.value}}))}})},E=a(10),b=a.n(E);a(17);var v=function(){return r.a.createElement("header",{id:"pageHeader"},r.a.createElement("div",{id:"headerCentralContainer"},r.a.createElement("img",{src:b.a,alt:"Logo Star Wars"}),r.a.createElement(p,null)))};a(18);var h=function(){var e=r.a.useContext(f),t=e.dataToRender;return e.isLoading?r.a.createElement("span",{id:"loadingSpan"},"Carregando Informa\xe7\xf5es..."):r.a.createElement("div",{id:"SWPlanetsTableContainer"},r.a.createElement("table",{id:"SWPlanetsTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,["Name","Rotation Period","Orbital Period","Diameter","Climate","Gravity","Terrain","Surface Water","Population","Films","Created","Edited","URL"].map((function(e,t){return r.a.createElement("th",{scope:"col",key:t},e)})))),r.a.createElement("tbody",null,t.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.rotation_period),r.a.createElement("td",null,e.orbital_period),r.a.createElement("td",null,e.diameter),r.a.createElement("td",null,e.climate),r.a.createElement("td",null,e.gravity),r.a.createElement("td",null,e.terrain),r.a.createElement("td",null,e.surface_water),r.a.createElement("td",null,e.population),r.a.createElement("td",null,e.films.map((function(e,t){return r.a.createElement("ul",{key:t,className:"filmsContainer"},r.a.createElement("li",null,e))}))),r.a.createElement("td",null,e.created),r.a.createElement("td",null,e.edited),r.a.createElement("td",null,e.url))})))))},g=a(5);a(19);var y=function(){var e=r.a.useContext(f),t=e.data,a=e.setDataToRender,n=e.dropdownContent1,l=e.setDropdownContent1,o=e.filters,c=e.setFilters,i=r.a.useState(n[0]),m=Object(s.a)(i,2),d=m[0],p=m[1],E=r.a.useState("maior que"),b=Object(s.a)(E,2),v=b[0],h=b[1],y=r.a.useState("100000"),N=Object(s.a)(y,2),j=N[0],C=N[1],O={column:d,comparison:v,value:j},w=function(e){var r=e.target,i=o.filterByNumericValues;if(c(Object(u.a)(Object(u.a)({},o),{},{filterByNumericValues:i.filter((function(e){return e.column!==r.id}))})),l([r.id].concat(Object(g.a)(n))),1===i.length&&a(t),i.length>1){var m=Object(g.a)(t);i.filter((function(e){return e.column!==r.id})).forEach((function(e){"maior que"===e.comparison&&(m=m.filter((function(t){return t[e.column]>Number(e.value)}))),"menor que"===e.comparison&&(m=m.filter((function(t){return t[e.column]<Number(e.value)}))),"igual a"===e.comparison&&(m=m.filter((function(t){return Number(t[e.column])===Number(e.value)})))})),a(m)}};return r.a.createElement("section",{id:"numericFilterContainer"},r.a.createElement("form",{id:"numericFilterForm"},r.a.createElement("select",{value:d,onChange:function(e){var t=e.target;return p(t.value)}},n.map((function(e,t){return r.a.createElement("option",{key:t},e)}))),r.a.createElement("select",{value:v,onChange:function(e){var t=e.target;return h(t.value)}},["maior que","menor que","igual a"].map((function(e,t){return r.a.createElement("option",{key:t},e)}))),r.a.createElement("input",{type:"number",min:"0",value:j,onChange:function(e){var t=e.target;return C(t.value)}}),r.a.createElement("button",{id:"filterBtn",type:"button",onClick:function(){c(Object(u.a)(Object(u.a)({},o),{},{filterByNumericValues:[].concat(Object(g.a)(o.filterByNumericValues),[O])})),p("Selecione")},disabled:"Selecione"===d},"Filtrar")),o.filterByNumericValues&&o.filterByNumericValues.map((function(e){return r.a.createElement("div",{key:e.column,id:"eachChosenFilter"},"".concat(e.column," \xe9 ").concat(e.comparison," ").concat(e.value),r.a.createElement("button",{id:e.column,type:"button",onClick:w},"X"))})))};a(20);var N=function(){return r.a.createElement("footer",null,r.a.createElement("span",null,"Developed by"," ",r.a.createElement("a",{href:"https://github.com/joaofelipelliccione",rel:"noopener noreferrer",target:"_blank"},"Jo\xe3o Felipe Pelliccione")))};a(21);var j=function(){return r.a.createElement(d,null,r.a.createElement(v,null),r.a.createElement(y,null),r.a.createElement(h,null),r.a.createElement(N,null))};o.a.render(r.a.createElement(j,null),document.getElementById("root"))}],[[11,1,2]]]);
//# sourceMappingURL=main.7cd2799e.chunk.js.map